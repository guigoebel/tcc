\documentclass[tcc,capa]{texufpel}

\usepackage[latin1]{inputenc} % acentuacao
\usepackage{graphicx} % para inserir figuras

\unidade{Centro de Desenvolvimento Tecnológico}
\curso{Engenharia de Computação}
\nomecurso{Bacharelado em Engenharia de Computação}
\titulocurso{Bacharel em Engenharia de Computação}

\title{Uma plataforma para consciência de contexto utilizando Computação em Nuvem}

\author{Goebel}{Guilherme Davesac}
\advisor[Prof.~Dr.]{Soares}{Rafael Iankowski}
\coadvisor[Prof.~Dr.]{Yamin}{Adenauer Corrêa}


\keyword{Nuvem}
\keyword{FIWARE}
\keyword{CoT}
\keyword{IoT}

\begin{document}

%\renewcommand{\advisorname}{Orientadora}           %descomente caso tenhas orientadora
%\renewcommand{\coadvisorname}{Coorientadora}      %descomente caso tenhas coorientadora

\maketitle 

\sloppy

%\fichacatalografica

%\folhadeaprovacao

%Opcional
%\begin{dedicatoria}
%  Dedico\ldots bla blabla blablabla bla. Bla blabla blablabla bla.\\
%  Bla blabla blablabla bla. Bla blabla blablabla bla.
%\end{dedicatoria}

%Opcional
%\begin{agradecimentos}
%  Bla blabla blablabla bla.  Bla blabla blablabla bla.  Bla blabla blablabla
%  bla.  Bla blabla blablabla bla.  Bla blabla blablabla bla.  Bla blabla
%  blablabla bla.  Bla blabla blablabla bla.  Bla blabla blablabla bla.  Bla
%  blabla blablabla bla.  Bla blabla blablabla bla.  Bla blabla blablabla bla.
%  Bla blabla blablabla bla.  Bla blabla blablabla bla.  Bla blabla blablabla
%  bla.  Bla blabla blablabla bla.  Bla blabla blablabla bla.  Bla blabla
%  blablabla bla.  Bla blabla blablabla bla.  Bla blabla blablabla bla.  Bla
%  blabla blablabla bla.  Bla blabla blablabla bla.
%\end{agradecimentos}

%Opcional
%\begin{epigrafe}
%  Bla blabla blablabla bla.\\
%  Bla blabla blablabla bla.\\
%  Bla blabla blablabla bla.\\
%  Bla blabla blablabla bla.\\
%  Bla blabla blablabla bla.\\
%  {\sc --- Fulano de Tal}
%\end{epigrafe}

%Resumo em Portugues (no maximo 500 palavras)
\begin{abstract}
  Resumo em português sobre o trabalho de conclusão de curso: 
\end{abstract}

\begin{englishabstract}%
  {Titulo do Trabalho em Ingles}%
  {Cloud, Fiware, CoT, IoT}
  
  Resumo em Inglês.
\end{englishabstract}

%Lista de Figuras
\listoffigures

%Lista de Tabelas
\listoftables

%lista de abreviaturas e siglas
\begin{listofabbrv}{SPMD}
        \item[CoT] Cloud of Things
        \item[IoT] Internet of Things
        \item[TCC] Trabalho de Conclusão de Curso
        \item[UbiComp] Computação Ubíqua
        \item[ABNT] Associação Brasileira de Normas Técnicas
\end{listofabbrv}

%Sumario
\tableofcontents

\chapter{Introdução}
As tecnologias mais profundas são aquelas que desaparecem, elas se integram na vida cotidiana até se tornarem indistinguíveis da mesma. Esta frase do clássico artigo sobre a Computação para o século 21 (WEISER, 1991), sintetiza o que e esperado com a Computação Ubíqua (UbiComp). O termo trata dos aspectos referentes ao acesso ao ambiente computacional do usuário, isto é, ao espaço ubíquo do usuário, em qualquer lugar, todo o tempo com qualquer dispositivo. Nesta perspectiva a computação e seus diversos sistemas interagem com o ser humano a todo o momento, não importando onde ele esteja, em casa, no trabalho ou na rua, constituindo este de um ambiente altamente distribuído, heterogêneo, dinâmico, móvel, mutável e com forte interação entre homem e maquina (CACERES, 2011).
	A computação ubíqua, enquanto uma abordagem para materialização das premissas da Computação Ubíqua, vem ganhando dimensão prática tanto no cenário nacional quanto internacional. Este crescimento é consequência de diversos fatores dentre os avanços nas tecnologias de dispositivos embarcados, de melhorias nas redes de computadores, pela oferta de novos tipos de sensores e atuadores, e o aumento de dispositivos oferecidos no mercado com a possibilidade de interconexão.
	A Computação Ubíqua tem como estratégia incorporar objetos inteligentes aos ambientes, ou seja, que possam estar presente em diferentes lugares, operando de modo a exigir a menor intervenção humana possível. Para tanto se faz necessária uma autonomia por parte destes objetos no que diz respeito a procedimentos operacionais, considerando especificações do usuário e da consciência dos contextos de seu interesse.
	Para a disponibilização de uma aplicação ubíqua consciente do contexto há uma série de funcionalidades que devem ser fornecidas, envolvendo a aquisição de informações contextuais, a representação dessas informações, seu processamento, armazenamento e, até a realizações de inferências para a tomada de decisões (PERERA, 2013).


\section{Motivação e Objetivos}

A popularização da internet e dos ambientes distribuídos, bem como os avanços tecnológicos, proporcionam uma melhoria na mobilidade bem como na conectividade e comunicação dos dispositivos computacionais. Tendo esta observação como ponto de partida, a computação moderna está em uma nova era, a era da Computação Ubíqua ou UbiComp. Como consequência da elevada dinamicidade decorrente desta integração, a capacidade de reação ao contexto constitui um componente muito importante e fundamental na Computação Ubíqua (KRUMM, 2010).
Aplicações com as características de reagir autonomamente a mudanças no ambiente facilitam a vida do usuário, tornando mais confortável e usada em ambientes de trabalho, mais lucrativa, melhorando assim sua qualidade de vida.
Com esta visão, o controle da consciência de contexto é essencial para sistemas ubíquos. Aplicações consciente de contexto conhecem o ambiente no qual estão sendo utilizadas e tomam decisões de acordo com mudanças no seu próprio contexto de interesse.
Com o passar dos anos a população vem aumentando de maneira expressiva, este crescimento acaba fazendo com que os fornecedores de alimentos tenham que produzir cada vez mais em menor tempo e espaço. Para suprir esta necessidade, existe diversos ramificações de estudo para conseguir efetuar, de fato, este aumento de produção, bem como estudos biotecnológicos, agropecuários e o uso da tecnologia, como novos equipamentos industriais, o uso IoT, a própria CoT entre outros. 
Usando isto como premissa e motivação para o desenvolvimento deste trabalho, o qual o objetivo é a criação de uma estrutura para o gerenciamento de recursos de sensoriamento e atuação em um ambiente típico de produção de leito bovino. A expectativa é reportar ao produtor possíveis falhas, ou alterações nos procedimentos operacionais do sistema produtivo, bem como produzir relatórios dos diferentes contextos aquisitados na plataforma de produção. 
	O desenvolvimento desta proposta fará o uso do mecanismo para coleta de informações contextuais do middleware EXEHDA (LOPES, 2014), denominado Servidor de Borda, o qual será integrado a uma infraestrutura de nuvem computacional que ficará responsável pelo armazenamento e processamento das informações contextuais coletas. Esta infraestrutura na nuvem irá interoperar com a aplicação a ser disponibilizada ao produtor rural.
	Nesta proposta de TCC será explorado o conceito de Cloud of Things. Esse novo conceito é uma ampliação do conceito de Internet of Things, o qual integra os objetos da IoT com recursos da Computação em Nuvem, potencializando a disponibilização dos dados produzidos por estes objetos a partir de qualquer lugar. 
 Bla blabla blablabla bla~\citet{Moore:1979:MAI,Aguiar:2005}.

\section{Estrutura do Texto}
Esta monografia está organizada em X capítulos. No capítulo 1 é abordado o tema
do trabalho, suas motivacões e objetivos. No capítulo 2 sao caracterizados conceitos
voltados para a Internet of Things e Cloud of Things, do seus primordios até sua evolução à Cloud of Things, bem como o que esperar desta tecnologia. No capítulo 3 a fim de comparar e analisar as diversas soluções, são apresentados trabalhos relacionados à area de pesquisa, a qual este trabalho se encaixa. Uma visão geral do middleware EXEHDA, é apresentada no capítulo 4, além de como será abordado o foco do trabalho, sua modelagem e implementação. A tecnologia de nuvem proposta neste TCC será apresentada no capítulo 5. No capítulo 6 é apresentada a conclusão, onde se realiza comentários sobre possíveis resultados e trabalhos a serem desenvolvidos para a continuidade do TCC.


\chapter{Internet of Things e Cloud of Things}
Este capítulo aborda a definição de Internet das coisas (do inglês Internet of Things ? IoT) [Atzori et al. 2010] e sobre Nuvem das coisas(do inglês Cloud of things - CoT) hoje sendo tratado como a próxima etapa da IoT.  
	
\section{Internet of Things: }
A Internet das Coisas é um paradigma que preconiza um mundo de objetos físicos embarcados com sensores e atuadores, conectados por redes sem fio e que se comunicam usando a Internet,
moldando uma rede de objetos inteligentes capazes de realizar variados processamentos,
capturar variáveis ambientais e reagir a estímulos externos. Esses objetos
interconectam-se entre si e com outros recursos (físicos ou virtuais) e podem ser
controlados através da Internet, permitindo o surgimento de uma miríade de aplicações
que poderão se beneficiar dos novos tipos de dados, serviços e operações disponíveis. A IoT é uma das principais tecnologias emergentes que contribuem para concretizar novos domínios de aplicação das tecnologias de informação e comunicação (TICs), a exemplo do domínio de cidades inteligentes, no qual o uso de tecnologias avançadas de
comunicação e sensoriamento visa prover serviços de valor agregado para os órgãos
administrativos de tais cidades e para seus cidadãos [Zanella et al. 2014].
  Atualmente temos diversas tecnologias mescladas e desaparecidas em novas tecnologias, definindo o que Mark Weiser citou como verdade. Estes pontos acabam gerando grandes discussões sobre este tópico, o qual a Internet das Coisas(IoT) vem se destacando e tornando-se um marco na história global, considere que a IoT representa a próxima evolução da Internet, dando um grande salto na capacidade de coletar, analisar e distribuir dados que nós podemos transformar em informações, conhecimento e, por fim, sabedoria. Nesse contexto, a IoT se torna bem importante. 
  Com este avanço da tecnologia e a grande quantidade de informações proporcionada pelo contexto, possibilitou o crescimento da Internet das Coisas, abrangendo diversos ambientes. Com isto diversas aplicações surgiram, nas diferentes áreas, como (i) Construções; (ii) Energia; (iii) Consumo e Casa; (iv) Saúde e Ciência de vida; (v) Setor Industrial; (vi) Transporte; (vii)Compras e Produtos; (viii) Segurança e Segurança Pública; (ix) Tecnologia da informação e Conexão.
  
\begin{figure}[htbp]
  \centering \includegraphics[scale=.4]{IoT-all}
\caption{Setores abrangidos pela IoT)} 
\label{figura}
\end{figure}

Com a possibilidade de estar conectado à tudo, a Internet das Coisas gera alguns desafios como:
\begin{itemize}
\item Heterogeneidade: onde existe diversas tecnologia dos dispositivos e protocolos de comunicação;
\item Segurança e Privacidade: para os dados captados e utilizados pelo dispositivos;
\item Escalabilidade: devido ao rápido crescimento do número de dispositivos presentes conectados à IoT.
\item Interoperabilidade: Interação dos sistemas e dispositivos com máxima transparência possível.
\end{itemize}

Para conseguir suprir as consequências destes desafios, diversos estudos vêm sendo feito na área de IoT, e para a escalabilidade já existe uma solução: Adoção do novo protocolo de internet, o IPv6 que utiliza 2\^128 endereços , contra 2\^32 endereços do ainda utilizável IPv4. 
Para o grande volume de dados proporcionados pelos diversos ambientes, surge soluções como Computação em Nuvem e Big Data para absorver a necessidade do processamento ubíquo e geração de informações em grande escala.
Segurança e privacidade é o ponto mais frágil destes desafios, pois com grandes informações e tomadas de decisões sem a intervenção humana, o vazamento das informações bem como uma decisão tomada errada, por erro de cálculo ou por invasão no sistema, torna o usuário extremamente vulnerável neste cenário de uso indevido.



  
  

\section{Cloud of Things: }

\begin{table}
\begin{center}
\caption{Nome da Tabela}\label{tabela2}
\begin{tabular}{p{4cm}p{5cm}p{6cm}}
\hline
Blabla & Blabla & Blablabla\\
\hline
{\small Bla} & {\small Blabla} & {\small\em Bla blabla blablabla blabla
  blablabla blabla blablabla.}\\
{\small Bla} & {\small Blabla} & {\small\em Bla blabla blablabla blabla
  blablabla blabla blablabla.}\\
{\small Bla} & {\small Blabla} & {\small\em Bla blabla blablabla blabla
  blablabla blabla blablabla.}\\
{\small Bla} & {\small Blabla} & {\small\em Bla blabla blablabla blabla
  blablabla blabla blablabla.}\\
{\small Bla} & {\small Blabla} & {\small\em Bla blabla blablabla blabla
  blablabla blabla blablabla.}\\
{\small Bla} & {\small Blabla} & {\small\em Bla blabla blablabla blabla
  blablabla blabla blablabla. Conforme a figura~\ref{figura}}\\
\hline
\end{tabular}
\end{center}
\end{table}


\chapter{Trabalhos relacionados: }
Neste tópico será feito uma mostragem de trabalhos e projetos relacionados à este TCC, os quais aumentaram o âmbito desta pesquisa e aplicação.
  
\section{Lely T4C InHerd}
Lely é um sistema de gerenciamento de fazendas onde, equipado de suas tecnologias, o produtor consegue ter acesso à todas informações geradas pelo contexto na palma de sua mão, através de tablets, smartphones e computadores. Este sistema conta com diversas ferramentas para ajudar o produtor durante seu dia a dia, alguma delas como registro de atividades e rotinas, informações sobre um devido animal, analisador infográfico da produção leiteira, alertas para o produtor sobre problemas em seu maquinário de produção leiteira.


\begin{figure}[h!]
  \centering \includegraphics[scale=.4]{app-lely}
\caption{Aplicativo Lely} 
\label{figura}
\end{figure}  


\section{Projeto IoT@Work}
O projeto IoT@Work tem como objetivo reduzir custos operacionais de
configuração, funcionamento e manutenção de soluções fabris, por meio da redução dos
tempos de interrupção decorrentes de reconfiguração e mudanças nos sistemas. Assim,
foram desenvolvidas tecnologias para viabilizar o conceito de ?plug\&work? em redes industriais, visando permitir o ingresso de equipamentos na rede e a obtenção ou fornecimento de funcionalidades sem intervenção humana [IOT@WORK 2013]. Dentre as tecnologias desenvolvidas destacam-se: (i) o serviço de diretório unificado: permite aos dispositivos descobrir e acessar outros dispositivos ou serviços da rede por meio de uma API, viabilizando também seu monitoramento remoto; (ii) O serviço de notificação de eventos: um middleware que atua como um conector entre geradores e consumidores de eventos, permitindo a troca de informações eficiente entre os dispositivos; e (iii) o Processamento de Eventos Complexos: permite que dados monitorados disparem processos automatizados de atuação [Imtiaz et al. 2013]. Contudo, apesar de ser focado em ambientes industriais e permitir a comunicação M2M, o projeto não aborda a publicação de dados dos
dispositivos em uma plataforma de Nuvem.

\section{EcoDiF - Ecossistma Web de Dispositivos Físicos}

Em um contexto mais geral, temos a EcoDiF, que é uma plataforma Web para conectar dispositivos e produtos com aplicações e/ou usuários finais, a fim de fornecer funcionalidades de controle, visualização, processamento e armazenamento de dados. A EcoDiF atuará como um núcleo de um ecossistema Internet of Things, oferecendo serviços (de software) focados: (i) na conectividade entre dispositivos e a Internet; (ii) em serviços de aplicação e (iii) em serviços de apoio. A EcoDiF pode ser usada em diversos contextos, tais como aplicações de monitoramento ambiental, de monitoramento de infraestrutura pública, como acompanhamento de trânsito e condições da estrada, bem como para compartilhamento de dispositivos de sensoriamento entre laboratórios acadêmicos.

\begin{figure}[h!]
  \centering \includegraphics[scale=.4]{EcoDif-geral}
\caption{Estrutura EcoDiF - Ecossistma Web de Dispositivos Físicos} 
\label{figura}
\end{figure}  



\chapter{EXEHDA}

Esta secão registra de modo resumido a revisãao feita sobre o middleware
EXEHDA e seus subsistemas, proposto inicialmente em (YAMIN, 2004).
O EXEHDA é um middleware adaptativo ao contexto e baseado em serviços
que visa criar e gerenciar um ambiente ubíquo, bem como promover a execução,
sob este ambiente, das aplicações que expressam a semÂntica siga-me. Estas
aplicações são distribuídas, móveis e adaptativas ao contexto em que seu
processamento ocorre, estando disponíveis a partir de qualquer lugar, todo o
tempo (LOPES et al., 2012).
Este trabalho fará o uso do middleware EXEHDA para captação dos dados e transformando-os em informações para serem analizadas pelo contexto. Fazendo com que o ambiente torne inteligente e transmita os relatórios para o produtor.
\section{Middleware EXEHDA}

O objetivo proncipal do middleware EXEHDA é a definição de uma arquiteture específica para ambientes de execução destinados às aplicações da computação ubíqua. Este ambiente fornece dados permitindo que as informações de contexto fiquem acessíveis para serem monitoradas.
O ambiente ubíquo pode ser definido apartir de três abstrações básicas para o uso deste middleware. O meio físico do ambiente ubíquo é definido por uma rede de infraestruturas que assumem decisões com a variação dos dados obtidos neste ambiente.
\begin{itemize}
\item EXEHDAcels: Indica a área de atuação de uma EXEHDAbase, e é composta por este item e por EXEHDAnodos. Os principais aspectos considerados na definição da abrengência de uma célula são: o custo de comunicação, o escopo insitucional e a proximidade geográfica.
\item EXEHDAbase: Faz a ligação dos EXEHDAnodos. São servidores responáveis por gerenciar todos os serviçoes básicos do ambiente ubíquo.
\item EXEHDAnodo: São dispositivos responsáveis pela execução das aplicações no ambiente ubíquo.
\end{itemize}
\begin{figure}[htbp]
  \centering \includegraphics[scale=.4]{exehda-ambiente}
\caption{Ambiente ubíquo suportado pelo EXEHDA(YAMIN, 2004)} 
\label{figura}
\end{figure}




\section{Servidor de Borda}

O servidor de borda, como já indica seu nome, fica localizado onde são feitas as leituras do ambiente. Divido em três partes, uma destinada à tratar de redes de sensores, outra efetuando as publicações dos dados coletados pelos sensores e outra que server para gerenciar a rede de atuadores.
O módulo de rede de sensores é responsável pelo tratamento dos dados bem como a gerencia das coletas. A publicação dos dados coletados é de responsabilidade do Módulo de Publicação.
\begin{figure}[htbp]
  \centering \includegraphics[scale=.4]{context-broker}
\caption{Interpretador de contexto} 
\label{figura}
\end{figure}



  
\chapter{FIWARE: Um estudo sobre a tecnologia }
FIWARE é uma plataforma que provê enchanced OpenStack-based cloud Hosting capabilities plus a rich library of added-value functions offered "as a Service". Componentes da plataforma FIWARE, referente a "Generic Enablers (GEs) provêm API genéricas abertas que facilitam a conexão com a Internet das Coisas, processamento de dados e mídia em tempo real em larga escala, faz a análise de Big Data ou incorpora funcionalidades para a intereção com usuários.
Cada API fornecida pela FIWARE GE que são públicas e totalmente gratuítas, fazendo com que suas implementações sirvam como referências no mercado. Fiware se torna uma alternativa aberta que existe propriamente para plataformas da Internet.
\section{Aplicações conscientes ao contexto utilizando FIWARE}

Para criar uma aplicação inteligente temos que primeiramente fazê-la consciente. Utilizando FIWARE pode-se desenvolver o desejado e captar as informações de contexto em larga escala para transformar a aplicação inteligente.
As informações de contextos são representadas através de valores e atributos que caracterizam as entidades relevantes para a aplicação. Utilizando um interpretador de contexto é possível deixar todos as informações de contextos acessíveis.
A própria plataforma FIWARE tem seu interpretador de contexto, chamado de ORION. 

\begin{figure}[htbp]
  \centering \includegraphics[scale=.4]{context-broker}
\caption{Interpretador de contexto} 
\label{figura}
\end{figure}

\section{Conectando-se a IoT}
Para iniciar a manusear as informações de contextos obtidas pelos sistemas conectados à apicação ou para o usuario interagir com sua aplicação usando um portal de Web, tem que ser feiro o gerenciamento das "coisas" usando sensores e atuadores. Chamados de Agentes-IoT(IDAS), que interagem com as opções de regras ajustada para cada dispositivo, usando protocolos que é suportado pelo produtor de contexto.
\begin{figure}[htbp]
  \centering \includegraphics[scale=.4]{agentes-iot}
\caption{Gerenciamento dos Dispositivos} 
\label{figura}
\end{figure}

Para ter acesso aos dados proporcionados pelos agentes, temos que contectar nossos dispositivos de IoT no sistema de Nuvem FIWARE, através de um interpretador de contexto. Para a comunicação ser feira, deve-se aplicar o protocolo NGSI, o que é uma interface de Aplicação RESTful por HTTP. 
Os detalhes para esta comunicação são feitos através dos seguintes parâmetros: 
\begin{itemize}
\item IP Address(idas\_host): passado por  Endereço de IP do servidor.
\item Rest Admin Port(idas\_admin\_port): Indicar a porta que está sendo usada para o acesso administrativo.
\item Rest Device Port(idas\_ul20\_port): Indicar qual porta é usada para os dispositivos de IoT.
\item Service (service): habilitar o serviço IDAS(Agentes-IoT) para gerenciar os diversos dispositivos conectados.
\item  APIKEY (apikey): para efetuar a troca de informações do dispositivo IoT para um serviço específico do Agente.
\end{itemize}
\section{Criando um modelo para os Dispositivos IoT}
O ambiente deste trabalho é de uma indústria de leite bovino, onde o cenário de estudo são: (i) Bomba de vácuo: monitorar esta bomba faz com que o produtor tenha um alerta caso seu funcionamento não seja como o esperado, visto que este mal funcionamento pode prejudicar o animal. (ii) Resfriador: para saber o total produzido em cada ordenha e a temperatura que o leite se encontra, impedindo o congelamento. Com esta informação também é possível fazer um gráfico com o decaimento da temperatura ao longo do tempo, pois com isso podemos notar se o funcionamento do resfriador está adequado ou precisa de manutenção. (iii) Câmara Fria: após o leite ser pasteurizado e embalado ele fica na câmara fria até ser entregue para o cliente final, assim o monitoramento da temperatura desta câmara será útil para impedir que a produção seja perdida por falta de refrigeração, ou até mesmo o congelamento do leite.(iv) Banco de Gelo: usado para pasteurizar o leite, com esta informação, tem-se uma analise do seu funcionamento para impedir a nãopasteurização do leite, ou até mesmo algum defeito no maquinário.
Ao analisar o contexto que será tratado este trabalho, foi pensado nos seguintes sensores e atuadores.

\begin{itemize}
\item Sensor\_press: Sensor para determinar a pressão exercida pela bomba de vácuo.
\item Sensor\_vol: Sensor para calcular volume do leite no resfriador.
\item Sensor\_temp\_resf: Sensor de temperatura no resfriador.
\item Sensor\_temp\_cam: Sensor de temperatura na câmara fria.
\item Sensor\_temp\_bg: Sensor de temperatura no banco de gelo.
  
\end{itemize}





\chapter{Conclusão}

% Bibliografia
% http://liinwww.ira.uka.de/bibliography/index.html
% um site que cataloga no formato bibtex a bibliografia em computacao
%\bibliography{nomedoarquivo.bib} (sem extensao)
%\bibliographystyle{formato.bst} (sem extensao)

\bibliography{bibliografia}
\bibliographystyle{abnt}

% Anexos (Opcional)
%Faz a capa do CDROM
\makecover

\end{document}

